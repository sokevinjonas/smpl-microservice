version: '3.8'

services:
  smpl-microservice:
    build: .
    container_name: smpl-microservice
    ports:
      - "5000:5000"
    volumes:
      # Code source - monté en temps réel (pas besoin de rebuild!)
      - ./app.py:/app/app.py
      - ./smpl_engine.py:/app/smpl_engine.py
      - ./utils:/app/utils
      # Modèles (lecture seule)
      - ./models:/app/models:ro
      # Logs
      - ./logs:/app/logs
    environment:
      - FLASK_ENV=development
      - smpl-network

networks:
  smpl-network:
    driver: bridge
